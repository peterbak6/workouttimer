{"ast":null,"code":"import _slicedToArray from\"/Users/peterbak/Documents/GitHub/workouttimer/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import logo from'./logo.svg';import'./App.css';import React,{useState,useRef,useEffect}from'react';import bell1 from'./bell1.mp3';import bell2 from'./bell2.mp3';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var App=function App(){var Ref=useRef(null);var _useState=useState('00:00:00'),_useState2=_slicedToArray(_useState,2),timer=_useState2[0],setTimer=_useState2[1];var _useState3=useState(10),_useState4=_slicedToArray(_useState3,2),target=_useState4[0],setTarget=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),remLoops=_useState6[0],setRemLoops=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),timerOn=_useState8[0],setTimerOn=_useState8[1];var playSound=function playSound(bell){var audio=new Audio(bell);audio.play();};var getNumberWithOrdinal=function getNumberWithOrdinal(n){var s=[\"th\",\"st\",\"nd\",\"rd\"],v=n%100;return\"\"+(s[(v-20)%10]||s[v]||s[0]);};var getTimeRemaining=function getTimeRemaining(e){var total=Date.parse(e)-Date.parse(new Date());var seconds=Math.floor(total/1000%60);var minutes=Math.floor(total/1000/60%60);var hours=Math.floor(total/1000/60/60%24);return{total:total,hours:hours,minutes:minutes,seconds:seconds};};var showTimer=function showTimer(hours,minutes,seconds){return(hours>9?hours:'0'+hours)+':'+(minutes>9?minutes:'0'+minutes)+':'+(seconds>9?seconds:'0'+seconds);};var startTimer=function startTimer(e){var _getTimeRemaining=getTimeRemaining(e),total=_getTimeRemaining.total,hours=_getTimeRemaining.hours,minutes=_getTimeRemaining.minutes,seconds=_getTimeRemaining.seconds;if(total>=0){if(total<=3000&&total>0){playSound(bell1);}setTimer(showTimer(hours,minutes,seconds));if(total===0){playSound(bell2);setRemLoops(function(l){return l+1;});clearTimer(getDeadTime());}}};var stopTimer=function stopTimer(){setTimerOn(false);if(Ref.current)clearInterval(Ref.current);Ref.current=null;};var clearTimer=function clearTimer(e){setTimerOn(true);if(Ref.current)clearInterval(Ref.current);var id=setInterval(function(){startTimer(e);},1000);Ref.current=id;};var getDeadTime=function getDeadTime(){var deadline=new Date();deadline.setSeconds(deadline.getSeconds()+target);return deadline;};var onClickStart=function onClickStart(){setRemLoops(1);clearTimer(getDeadTime());};var onClickStop=function onClickStop(){stopTimer();};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"Timer\",children:[remLoops,/*#__PURE__*/_jsxs(\"span\",{className:\"Ordinal\",children:[getNumberWithOrdinal(remLoops),\"  \"]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"Timer\",children:timer}),timerOn?/*#__PURE__*/_jsx(\"button\",{className:\"Button stop\",onClick:onClickStop,children:\"Stop\"}):/*#__PURE__*/_jsx(\"button\",{className:\"Button start\",onClick:onClickStart,children:\"Start\"})]});};export default App;","map":{"version":3,"names":["logo","React","useState","useRef","useEffect","bell1","bell2","App","Ref","timer","setTimer","target","setTarget","remLoops","setRemLoops","timerOn","setTimerOn","playSound","bell","audio","Audio","play","getNumberWithOrdinal","n","s","v","getTimeRemaining","e","total","Date","parse","seconds","Math","floor","minutes","hours","showTimer","startTimer","l","clearTimer","getDeadTime","stopTimer","current","clearInterval","id","setInterval","deadline","setSeconds","getSeconds","onClickStart","onClickStop"],"sources":["/Users/peterbak/Documents/GitHub/workouttimer/src/App.js"],"sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport React, { useState, useRef, useEffect } from 'react'\nimport bell1 from './bell1.mp3';\nimport bell2 from './bell2.mp3'\n\nconst App = () => {\n\n  const Ref = useRef(null);\n\n  const [timer, setTimer] = useState('00:00:00');\n  const [target, setTarget] = useState(10);\n  const [remLoops, setRemLoops] = useState(1);\n  const [timerOn, setTimerOn] = useState(false);\n\n  const playSound = (bell) => {\n    const audio = new Audio(bell);\n    audio.play();\n  }\n\n  const getNumberWithOrdinal = (n) => {\n    var s = [\"th\", \"st\", \"nd\", \"rd\"],\n        v = n % 100;\n    return \"\" + (s[(v - 20) % 10] || s[v] || s[0]);\n  }\n\n  const getTimeRemaining = (e) => {\n    const total = Date.parse(e) - Date.parse(new Date());\n    const seconds = Math.floor((total / 1000) % 60);\n    const minutes = Math.floor((total / 1000 / 60) % 60);\n    const hours = Math.floor((total / 1000 / 60 / 60) % 24);\n    return {\n      total, hours, minutes, seconds\n    };\n  }\n\n  const showTimer = (hours, minutes, seconds) => {\n    return (hours > 9 ? hours : '0' + hours) + ':' +\n      (minutes > 9 ? minutes : '0' + minutes) + ':'\n      + (seconds > 9 ? seconds : '0' + seconds)\n  }\n\n  const startTimer = (e) => {\n    let { total, hours, minutes, seconds } = getTimeRemaining(e);\n    if (total >= 0) {\n      if (total <= 3000 && total > 0) {\n        playSound(bell1);\n      }\n      setTimer(\n        showTimer(hours, minutes, seconds)\n      )\n      if (total === 0) {\n        playSound(bell2);\n        setRemLoops(l => l + 1);\n        clearTimer(getDeadTime());\n      }\n    }\n  }\n\n  const stopTimer = () => {\n    setTimerOn(false)\n    if (Ref.current) clearInterval(Ref.current);\n    Ref.current = null;\n\n  }\n\n  const clearTimer = (e) => {\n    setTimerOn(true);\n    if (Ref.current) clearInterval(Ref.current);\n    const id = setInterval(() => {\n      startTimer(e);\n    }, 1000)\n    Ref.current = id;\n  }\n\n  const getDeadTime = () => {\n    let deadline = new Date();\n    deadline.setSeconds(deadline.getSeconds() + target);\n    return deadline;\n  }\n\n  const onClickStart = () => {\n    setRemLoops(1);\n    clearTimer(getDeadTime());\n  }\n\n  const onClickStop = () => {\n    stopTimer();\n  }\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"Timer\">{remLoops}\n        <span className='Ordinal'>{getNumberWithOrdinal(remLoops)}  </span> \n      </h1>\n      <h1 className=\"Timer\">{timer}</h1>\n      {\n        timerOn ? <button className=\"Button stop\" onClick={onClickStop}>Stop</button> :\n        <button className=\"Button start\" onClick={onClickStart}>Start</button>\n      }\n    </div>\n  )\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}