{"ast":null,"code":"var _jsxFileName = \"/workspaces/workouttimer/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [seconds, setSeconds] = useState(0);\n  const [isRunning, setIsRunning] = useState(false);\n  const [previousMinute, setPreviousMinute] = useState(0);\n  const [gongReady, setGongReady] = useState(false);\n  const [audioUnlocked, setAudioUnlocked] = useState(false);\n  const timerRef = useRef(null);\n  const gongSoundRef = useRef(null);\n  const silentAudioRef = useRef(null);\n  const [backgroundColor, setBackgroundColor] = useState('#fafafa'); // Effect for updating the timer every second\n\n  useEffect(() => {\n    if (isRunning) {\n      timerRef.current = setInterval(() => {\n        setSeconds(prev => prev + 1);\n      }, 1000);\n    } else if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n\n    return () => clearInterval(timerRef.current); // Cleanup\n  }, [isRunning]);\n  useEffect(() => {\n    const minutes = Math.floor(seconds / 60);\n\n    if (minutes > previousMinute) {\n      playGong(); // Play gong when minute increases\n\n      setPreviousMinute(minutes);\n    }\n  }, [seconds, previousMinute]); // Function to unlock the audio context on iOS using the silent audio clip\n\n  const unlockAudioContext = () => {\n    if (!audioUnlocked) {\n      silentAudioRef.current.play().then(() => {\n        setAudioUnlocked(true); // Unlock audio context on iOS\n\n        setGongReady(true); // Now gong sound can play\n\n        playGong(); // Play gong when timer starts\n      }).catch(error => console.log('Silent audio playback failed:', error));\n    } else {\n      setGongReady(true); // Gong can play after unlocking\n\n      playGong(); // Play gong when timer starts\n    }\n  };\n\n  const playGong = () => {\n    if (gongReady && audioUnlocked) {\n      gongSoundRef.current.currentTime = 0;\n      gongSoundRef.current.play().catch(error => console.log('Gong playback failed:', error));\n    }\n  }; // Function to handle starting the timer\n\n\n  const startTimer = () => {\n    setBackgroundColor('#a6d854'); // Pastel blue for running\n\n    unlockAudioContext();\n    setIsRunning(true);\n  }; // Function to handle stopping the timer\n\n\n  const stopTimer = () => {\n    setIsRunning(false);\n    setBackgroundColor('#fff2b3'); // Pastel yellow for paused\n\n    playGong(); // Play gong when pausing\n  }; // Function to handle resetting the timer\n\n\n  const resetTimer = () => {\n    stopTimer();\n    setSeconds(0);\n    setPreviousMinute(0);\n    setBackgroundColor('#ffd92f'); // Pastel green for idle\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"timer-container\",\n    style: {\n      backgroundColor\n    },\n    onClick: () => isRunning ? stopTimer() : startTimer(),\n    onDoubleClick: resetTimer,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: `${String(Math.floor(seconds / 60)).padStart(2, '0')}:${String(seconds % 60).padStart(2, '0')}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: silentAudioRef,\n      src: \"/silent.mp3\",\n      preload: \"auto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: gongSoundRef,\n      src: \"/gong.mp3\",\n      preload: \"auto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"UkQq7Y80It2+CBGQanGX2n1pdoU=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","App","seconds","setSeconds","isRunning","setIsRunning","previousMinute","setPreviousMinute","gongReady","setGongReady","audioUnlocked","setAudioUnlocked","timerRef","gongSoundRef","silentAudioRef","backgroundColor","setBackgroundColor","current","setInterval","prev","clearInterval","minutes","Math","floor","playGong","unlockAudioContext","play","then","catch","error","console","log","currentTime","startTimer","stopTimer","resetTimer","String","padStart"],"sources":["/workspaces/workouttimer/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [seconds, setSeconds] = useState(0);\n  const [isRunning, setIsRunning] = useState(false);\n  const [previousMinute, setPreviousMinute] = useState(0);\n  const [gongReady, setGongReady] = useState(false);\n  const [audioUnlocked, setAudioUnlocked] = useState(false);\n  const timerRef = useRef(null);\n  const gongSoundRef = useRef(null);\n  const silentAudioRef = useRef(null);\n  const [backgroundColor, setBackgroundColor] = useState('#fafafa');\n\n  // Effect for updating the timer every second\n  useEffect(() => {\n    if (isRunning) {\n      timerRef.current = setInterval(() => {\n        setSeconds((prev) => prev + 1);\n      }, 1000);\n    } else if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    return () => clearInterval(timerRef.current); // Cleanup\n  }, [isRunning]);\n\n  useEffect(() => {\n    const minutes = Math.floor(seconds / 60);\n    if (minutes > previousMinute) {\n      playGong(); // Play gong when minute increases\n      setPreviousMinute(minutes);\n    }\n  }, [seconds, previousMinute]);\n\n  // Function to unlock the audio context on iOS using the silent audio clip\n  const unlockAudioContext = () => {\n    if (!audioUnlocked) {\n      silentAudioRef.current.play().then(() => {\n        setAudioUnlocked(true); // Unlock audio context on iOS\n        setGongReady(true); // Now gong sound can play\n        playGong(); // Play gong when timer starts\n      }).catch((error) => console.log('Silent audio playback failed:', error));\n    } else {\n      setGongReady(true); // Gong can play after unlocking\n      playGong(); // Play gong when timer starts\n    }\n  };\n\n  const playGong = () => {\n    if (gongReady && audioUnlocked) {\n      gongSoundRef.current.currentTime = 0;\n      gongSoundRef.current.play().catch((error) => console.log('Gong playback failed:', error));\n    }\n  };\n\n  // Function to handle starting the timer\n  const startTimer = () => {\n    setBackgroundColor('#a6d854'); // Pastel blue for running\n    unlockAudioContext();\n    setIsRunning(true);\n  };\n\n  // Function to handle stopping the timer\n  const stopTimer = () => {\n    setIsRunning(false);\n    setBackgroundColor('#fff2b3'); // Pastel yellow for paused\n    playGong(); // Play gong when pausing\n  };\n\n  // Function to handle resetting the timer\n  const resetTimer = () => {\n    stopTimer();\n    setSeconds(0);\n    setPreviousMinute(0);\n    setBackgroundColor('#ffd92f'); // Pastel green for idle\n  };\n\n  return (\n    <div className=\"timer-container\" style={{ backgroundColor }} \n      onClick={() => (isRunning ? stopTimer() : startTimer())} \n      onDoubleClick={resetTimer}>\n      <h1>{`${String(Math.floor(seconds / 60)).padStart(2, '0')}:${String(seconds % 60).padStart(2, '0')}`}</h1>\n\n      {/* Silent audio for iOS audio context unlock */}\n      <audio ref={silentAudioRef} src=\"/silent.mp3\" preload=\"auto\"></audio>\n\n      {/* Gong sound */}\n      <audio ref={gongSoundRef} src=\"/gong.mp3\" preload=\"auto\"></audio>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}